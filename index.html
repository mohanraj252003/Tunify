<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Spotify</title>
        <link rel="stylesheet" href="style.css">
    </head>
<body>
    <nav>
        <ul>
            <li class="brand"><img src="logo.png" alt="Spotify">Tunify</li>
            <li>Home</li>
            <li>About</li>
            <div id="main-content">
                <button onclick="showSignUpPage()" class="sign-up">Sign up</button>
            </div>
            
        </ul>
    </nav>

<div id="form-ui" style="display: none;">
    <form action="" method="post" id="form" name="submit-to-google-sheet">
        <div id="form-body">
        <div id="welcome-lines">
            <div id="welcome-line-1">Tunify</div>
            <div id="welcome-line-2">Welcome</div>
        </div>
        <div id="input-area">
            <div class="form-inp">
            <input placeholder="Your Name" type="text" name="Name" id="name" required>
            </div>
            <div class="form-inp">
            <input placeholder="Your Email" type="email" name="Email" required>
            </div>
        </div>
        <div id="submit-button-cvr">
            <button id="submit-button" type="submit" onclick="setTimeout(function(){
                submitSignUpForm();
            }, 3000)">Submit</button>
        </div>
        <span id="msg"></span>
        <div id="bar"></div>
        </div>
        <div>
            <button type="button" onclick="hideSignUpPage()" class="cancel">x</button>
        </div>
    </form>
</div>
    
    
    <div class="container">
        <div class="songList">
            <h1>Best of NCS - No Copyright Sounds</h1>
            <div class="songItemContainer">
                <div class="songItem selectedSong">
                    <div class="a"><img alt="1"></div>
                    <div class="b"><span class="songName">Let me Love You</span></div>
                    <div class="spacing"><span class="songlistplay"><div><span class="timestamp">03:06 <i id="0" class="far songItemPlay fa-play-circle"></i> </span></div></span></div>
                </div>
                <div class="songItem">
                    <img alt="1">
                    <span class="songName">Let me Love You</span>
                    <span class="songlistplay"><span class="timestamp">03:37 <i id="1" class="far songItemPlay fa-play-circle"></i> </span></span>
                </div>
                <div class="songItem">
                    <img alt="1">
                    <span class="songName">Let me Love You</span>
                    <span class="songlistplay"><span class="timestamp">03:24 <i id="2" class="far songItemPlay fa-play-circle"></i> </span></span>
                </div>
                <div class="songItem">
                    <img alt="1">
                    <span class="songName">Let me Love You</span>
                    <span class="songlistplay"><span class="timestamp">03:40 <i id="3" class="far songItemPlay fa-play-circle"></i> </span></span>
                </div>
                <div class="songItem">
                    <img alt="1">
                    <span class="songName">Let me Love You</span>
                    <span class="songlistplay"><span class="timestamp">03:09 <i id="4" class="far songItemPlay fa-play-circle"></i> </span></span>
                </div>
                <div class="songItem">
                    <img alt="1">
                    <span class="songName">Let me Love You</span>
                    <span class="songlistplay"><span class="timestamp">03:35 <i id="5" class="far songItemPlay fa-play-circle"></i> </span></span>
                </div>
                <div class="songItem">
                    <img alt="1">
                    <span class="songName">Let me Love You</span>
                    <span class="songlistplay"><span class="timestamp">03:44 <i id="6" class="far songItemPlay fa-play-circle"></i> </span></span>
                </div>
                <div class="songItem">
                    <img alt="1">
                    <span class="songName">Let me Love You</span>
                    <span class="songlistplay"><span class="timestamp">03:45 <i id="7" class="far songItemPlay fa-play-circle"></i> </span></span>
                </div>
                <div class="songItem">
                    <img alt="1">
                    <span class="songName">Let me Love You</span>
                    <span class="songlistplay"><span class="timestamp">03:14 <i id="8" class="far songItemPlay fa-play-circle"></i> </span></span>
                </div>
                <div class="songItem">
                    <img alt="1">
                    <span class="songName">Let me Love You</span>
                    <span class="songlistplay"><span class="timestamp">04:04 <i id="9" class="far songItemPlay fa-play-circle"></i> </span></span>
                </div>
            </div>
        </div>
        <div class="songBanner"></div>
    </div>

    <div class="bottom">
        <input type="range" name="range" id="myProgressBar" min="0" value="0" max="100">
        <div class="icons">
            <i class="fas fa-3x fa-step-backward" id="previous"></i>
            <i class="far fa-3x fa-play-circle" id="masterPlay"></i>
            <i class="fas fa-3x fa-step-forward" id="next"></i> 
        </div>
        <div class="songInfo">
            <img src="playing.gif" width="42px" alt="" id="gif"> <span id="masterSongName">I don't care</span>
        </div>
    </div>
    <script src="script.js"></script>
    <script src="https://kit.fontawesome.com/26504e4a1f.js" crossorigin="anonymous"></script>

    <script>
         function showSignUpPage() {
      createPopup('form-ui');
    }

    function createPopup(popupId) {
      const popup = document.getElementById(popupId);
      popup.style.display = 'block';
      

      // Add additional logic to handle closing the popup if needed
      // For example, you can add a close button in the popup or close it when clicking outside the popup.
    }

    function hideSignUpPage() {
      document.getElementById('form-ui').style.display = 'none';
    }
    function submitSignUpForm() {
    const name = document.getElementById('name').value;
    
    if (name) {
        // Update the main project content with the user's name
        document.getElementById('main-content').innerHTML = `<p class="shows-name" style="position: absolute; right: 25px; @media only screen and (max-width: 600px){
            .shows-name{font-size: 3px;}
        }">Welcome, ${name}!</p>`;
        hideSignUpPage(); // Hide the popup after successful submission
      } else {
        alert('Please enter both name and email.');
        // Handle the error or validation messages as needed
      }
    }
    </script>
    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbxbUxaD74ZTFbPraKwNWsH60w7UbM8t8Iye4Hdq9eO1oCqWFJdPE8lebS6i9Vmb4xzA/exec'
        const form = document.forms['submit-to-google-sheet']
        const msg = document.getElementById("msg");
    
        form.addEventListener('submit', e => {
          e.preventDefault()
          fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => {msg.innerHTML = "Message Sent successfully"
            setTimeout(function(){
              msg.innerHTML = ""
            },5000)
            form.reset()
          })
            .catch(error => console.error('Error!', error.message))
        })
      </script>
</body>
</html>